(()=>{var m=new URLSearchParams(window.location.search),h=m.get("file"),g=m.get("name")||"Image",y=m.get("type")||"image";document.title=g;var i=document.getElementById("container"),a=document.getElementById("image"),k=document.getElementById("info"),n=1,c=0,s=0,u=!1,l=0,d=0;function t(){a.style.transform=`translate(${c}px, ${s}px) scale(${n})`}function f(){let e=i.getBoundingClientRect(),o=a.naturalWidth,w=a.naturalHeight,p=e.width/o,b=e.height/w;n=Math.min(p,b,1),c=0,s=0,t(),r()}function r(){k.textContent=`${g} | ${a.naturalWidth}x${a.naturalHeight} | ${Math.round(n*100)}%`}h&&(a.src=`file://${h}`,a.onload=()=>{f()},a.onerror=()=>{i.innerHTML=`<div style="color: red; text-align: center; padding: 20px;">Failed to load image: ${g}</div>`});document.addEventListener("keydown",e=>{switch(e.key){case"+":case"=":n=Math.min(n*1.25,10),t(),r();break;case"-":case"_":n=Math.max(n/1.25,.1),t(),r();break;case"0":n=1,c=0,s=0,t(),r();break;case"f":case"F":f();break;case"ArrowLeft":case"h":c+=50,t();break;case"ArrowRight":case"l":c-=50,t();break;case"ArrowUp":case"k":s+=50,t();break;case"ArrowDown":case"j":s-=50,t();break}});i.addEventListener("wheel",e=>{e.preventDefault();let o=e.deltaY>0?.9:1.1;n=Math.max(.1,Math.min(10,n*o)),t(),r()});i.addEventListener("mousedown",e=>{u=!0,l=e.clientX,d=e.clientY,i.style.cursor="grabbing"});document.addEventListener("mousemove",e=>{u&&(c+=e.clientX-l,s+=e.clientY-d,l=e.clientX,d=e.clientY,t())});document.addEventListener("mouseup",()=>{u=!1,i.style.cursor="grab"});})();
